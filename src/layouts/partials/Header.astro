---
import Navigation from "@layouts/_partials/Navigation.astro";

const links = [
  {
    href: '/',
    label: 'Home'
  },
  {
    href: '/projects',
    label: 'Projects'
  },
  {
    href: '/articles',
    label: 'Articles'
  },
  {
    href: '/about',
    label: 'About'
  },
]
const pathname = new URL(Astro.request.url).pathname;


---

<header class="sticky inset-0  w-full bg-black/80 border-b border-gray-600 backdrop-blur-lg ">
  <div class="max-w-4xl  md:flex  md:flex-row md:items-center md:justify-between  mx-auto py-4 px-3">

    <div class=" flex items-center justify-center gap-4 ">
      <button  class="menu-toggle md:hidden p-2 hover:bg-gray-800">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
          <path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm8.25 5.25a.75.75 0 01.75-.75h8.25a.75.75 0 010 1.5H12a.75.75 0 01-.75-.75z" clip-rule="evenodd" />
        </svg> 
      </button>
      <a href='/' class="block font-semibold text-2xl">
        JM
        <span class="sr-only">to home page</span>
      </a>
      
    </div>
    <!-- nav -->
    <nav class="bg-black/80 md:bg-transparent backdrop-blur-xl  absolute w-80 md:static md:w-auto navigation -translate-y-[200%] transition duration-700 md:flex md:translate-y-0  md:flex-row md:justify-center md:items-center gap-2 font-light text-indigo-100">
      {links.map(({href,label}) => (
        <a {...{href}} class={`rounded block hover:bg-gray-700 transition duration-300 px-5 py-2 ${ pathname === href ? 'bg-gray-700' : ''} `}>{label}</a>
      ))}  
    </nav>
  </div>
</header>

<script>
  const navToggle = document.querySelector(".menu-toggle");
  const navigation = document.querySelector(".navigation");

navToggle.addEventListener("click",()=>{
  navigation.classList.toggle("-translate-y-[200%]")
})
</script>